---
title: "Spotify"
author: "Philippe Dolimier"
date: "8/6/2018"
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
library(ggplot2)
library(jsonlite)
library(httr)
library(broom)
library(ngram)
```

## Part 1 - Data Curation

```{r data_curation}
top100_1964_2015_df <- read.csv("billboard_lyrics_1964-2015.csv") ##, colClasses=c("numeric", "numeric", "character", "character", "numeric") )

top100_1964_2015_df <- top100_1964_2015_df %>%
  select(Rank, Song, Artist, Year, Lyrics)

head(top100_1964_2015_df)
```

## Word Count

As a naive approach we count the words in each song...

We first convert our factored Lyrics into something we can operate on - characters. We then count the lyrics in each song using library(ngram)'s wordcount function. I will remove the songs with unknown Lyrics and then count unique words in each song.
```{r pressure, echo=FALSE}
top100_1964_2015_df <- top100_1964_2015_df %>%
  mutate(Lyrics = as.character(Lyrics)) %>%
  group_by(Song) %>%
  mutate(wc = wordcount(Lyrics))
            
head(top100_1964_2015_df)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
